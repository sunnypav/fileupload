{"mappings":"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","sources":["src/index.js","src/core/VPaidAd.js","src/ElementFactory.js","src/elements/Text.js","src/core/IVPAIDElement.js","src/elements/Image.js","src/elements/Video.js","src/elements/QR.js","src/elements/Timer.js"],"sourcesContent":["import VPaidAd from \"./core/VPaidAd.js\";\n\nwindow.getVPAIDAd = function () {\n  return new VPaidAd();\n};\n","import gsap from \"gsap\";\nimport { ElementFactory } from \"../ElementFactory.js\";\n\nclass VPaidAd {\n  constructor() {\n    this.adContainer = null;\n    this.currentTime = 0;\n    this.isPlaying = false;\n    this.adStarted = false;\n    this.adPaused = false;\n    this.volume = 1;\n    this.adExpanded = false;\n    this.adDuration = 0;\n    this.elementsNeedsPauseResume = [];\n    this.elementsNeedsVolume = [];\n    this.elementsNeedsSeek = [];\n    this.elements = {};\n    this.eventCallbacks = {};\n    this.skipAdAllowed = false;\n    this.vpaidSettings = {};\n    this.loadedElements = [];\n  }\n\n  handshakeVersion(playerVPAIDVersion) {\n    return \"2.0\";\n  }\n\n  initAd(\n    width,\n    height,\n    viewMode,\n    desiredBitrate,\n    creativeData = \"\",\n    environmentVars = \"\"\n  ) {\n    this.adContainer = environmentVars.slot; // Use provided ad container\n    this.adParameters = JSON.parse(creativeData);\n    this.vpaidSettings = {\n      adWidth,\n      adHeight,\n      viewMode,\n      desiredBitrate,\n      adContainer,\n      vpaidInstance: this,\n    };\n\n    if (!this.adContainer) {\n      console.error(\"VPAID Ad Error: No ad container provided.\");\n      return;\n    }\n\n    this.adDuration = parseInt(this.adParameters.duration, 10);\n    this.elements = this.adParameters.body.sequence;\n    this.totalElements = this.elements.reduce(\n      (sum, parallel) => sum + parallel.elements.length,\n      0\n    );\n    this.seekBarEnabled = this.adParameters.seekBar || false;\n\n    this.prebuildElements();\n    this.setupTimeline();\n    this.setupSeekBar();\n  }\n\n  prebuildElements() {\n    if (!this.adContainer) return;\n    this.adContainer.innerHTML = \"\";\n\n    this.elements.forEach((parallel) => {\n      parallel.elements.forEach((el) => {\n        const elementInstance = ElementFactory.createElement(\n          this.adParameters,\n          el,\n          this.vpaidSettings\n        );\n        if (elementInstance) {\n          this.elements[el] = elementInstance;\n          const domElement = elementInstance.getRootElement();\n          domElement.style.opacity = \"0\";\n          this.adContainer.appendChild(domElement);\n          if (elementInstance.needsPauseResume())\n            this.elementsNeedsPauseResume.push(elementInstance);\n          if (elementInstance.needsVolume())\n            this.elementsNeedsVolume.push(elementInstance);\n          if (elementInstance.needsSeek())\n            this.elementsNeedsSeek.push(elementInstance);\n        }\n      });\n    });\n  }\n\n  setupTimeline() {\n    this.adTimeline = this.gsap.timeline({ paused: true });\n\n    this.elements.forEach((parallel) => {\n      parallel.elements.forEach((el) => {\n        const elementInstance = this.elements[el];\n        if (elementInstance) {\n          elementInstance.addToTimeline(this.adTimeline);\n        }\n      });\n    });\n  }\n\n  setupSeekBar() {\n    if (!this.seekBarEnabled) return;\n\n    let seekBar = document.createElement(\"input\");\n    seekBar.type = \"range\";\n    seekBar.min = 0;\n    seekBar.max = this.adDuration;\n    seekBar.value = 0;\n    seekBar.style.width = \"100%\";\n\n    seekBar.addEventListener(\"input\", (event) => {\n      let newTime = parseFloat(event.target.value);\n      this.adTimeline.seek(newTime);\n      this.elementsNeedsSeek.forEach((element) => element.seek(newTime));\n    });\n\n    this.adContainer.appendChild(seekBar);\n  }\n\n  markElementLoaded(element, elementId) {\n    this.loadedElements.add(elementId);\n\n    // Ensure `AdLoaded` event is dispatched only when all elements are fully loaded**\n    if (this.loadedElements.size >= this.totalElements) {\n      this.dispatchEvent(\"AdLoaded\");\n    }\n  }\n\n  startAd() {\n    this.adStarted = true;\n    this.isPlaying = true;\n    this.adTimeline.play();\n    this.dispatchEvent(\"AdStarted\");\n  }\n\n  pauseAd() {\n    this.isPlaying = false;\n    this.adTimeline.pause();\n    this.elementsNeedsPauseResume.forEach((element) => element.pause());\n    this.dispatchEvent(\"AdPaused\");\n  }\n\n  resumeAd() {\n    this.isPlaying = true;\n    this.adTimeline.resume();\n    this.elementsNeedsPauseResume.forEach((element) => element.resume());\n    this.dispatchEvent(\"AdPlaying\");\n  }\n\n  stopAd() {\n    this.isPlaying = false;\n    this.adTimeline.pause();\n    this.elementsNeedsPauseResume.forEach((element) => element.pause());\n    this.adContainer.innerHTML = \"\";\n    this.dispatchEvent(\"AdStopped\");\n  }\n\n  skipAd() {\n    if (this.skipAdAllowed) {\n      this.stopAd();\n      this.dispatchEvent(\"AdSkipped\");\n    }\n  }\n\n  resizeAd(width, height, viewMode) {\n    this.vpaidSettings.adWidth = width;\n    this.vpaidSettings.adHeight = height;\n    this.vpaidSettings.viewMode = viewMode;\n    this.prebuildElements();\n    this.setupTimeline();\n  }\n\n  expandAd() {\n    this.adExpanded = true;\n    this.dispatchEvent(\"AdExpanded\");\n  }\n\n  collapseAd() {\n    this.adExpanded = false;\n    this.dispatchEvent(\"AdCollapsed\");\n  }\n\n  getAdVolume() {\n    return this.volume;\n  }\n\n  setAdVolume(volume) {\n    this.volume = volume;\n    this.elementsNeedsVolume.forEach((element) => (video.setVolume = volume));\n    this.dispatchEvent(\"AdVolumeChanged\");\n  }\n\n  getAdDuration() {\n    return this.adDuration;\n  }\n\n  getAdRemainingTime() {\n    return this.adDuration - this.currentTime;\n  }\n\n  subscribe(callback, event) {\n    if (!this.eventCallbacks[event]) {\n      this.eventCallbacks[event] = [];\n    }\n    this.eventCallbacks[event].push({ callback });\n  }\n\n  unsubscribe(callback, event) {\n    if (this.eventCallbacks[event]) {\n      this.eventCallbacks[event] = this.eventCallbacks[event].filter(\n        (listener) => listener.callback !== callback\n      );\n    }\n  }\n\n  dispatchEvent(event) {\n    if (this.eventCallbacks[event]) {\n      this.eventCallbacks[event].forEach((listener) =>\n        listener.callback.call()\n      );\n    }\n  }\n  getAdLinear() {\n    return true;\n  }\n}\n\nexport default VPaidAd;","import { Text } from \"./elements/Text.js\";\nimport { Image } from \"./elements/Image.js\";\nimport { Video } from \"./elements/Video.js\";\nimport { QR } from \"./elements/QR.js\";\nimport { Timer } from \"./elements/Timer.js\";\n\nexport class ElementFactory {\n  static createElement(data, element, vpaidSettings) {\n    switch (data.type) {\n      case \"text\":\n        return new Text(data, element, vpaidSettings);\n      case \"image\":\n        return new Image(data, element, vpaidSettings);\n      case \"video\":\n        return new Video(data, element, vpaidSettings);\n      case \"qr\":\n        return new QR(data, element, vpaidSettings);\n      case \"timer\":\n        return new Timer(data, element, vpaidSettings);\n      default:\n        return null;\n    }\n  }\n}\n","import { IVPAIDElement } from \"../core/IVPAIDElement.js\";\n\nexport class Text extends IVPAIDElement {\n  constructor(data, element, vpaidSettings) {\n    super(data, element, vpaidSettings);\n    this.markLoaded();\n  }\n\n  // Creates the text element inside the div container\n  createElement(opacity, updatedElement) {\n    this.domElement.innerText =\n      this.element.content || \"Lorem ipSum Lorem ipSum\";\n    this.domElement.style.position = \"absolute\";\n    this.domElement.style.opacity = opacity; // Initially hidden\n    this.domElement.style.fontSize = `${this.element.fontSize}px`;\n    this.domElement.style.color = this.element.color || \"black\";\n    this.domElement.style.fontWeight = this.element.fontWeight || \"normal\";\n    this.domElement.style.backgroundColor =\n      this.element.backgroundColor || \"transparent\";\n    this.domElement.style.width = `${\n      (this.element.width / this.data.outputResolution.width) *\n      this.vpaidSettings.adWidth\n    }px`;\n    this.domElement.style.height = `${\n      (this.element.height / this.data.outputResolution.height) *\n      this.vpaidSettings.adHeight\n    }px`;\n    this.domElement.style.left = `${\n      (this.element.x / this.data.outputResolution.width) *\n      this.vpaidSettings.adWidth\n    }px`;\n    this.domElement.style.top = `${\n      (this.element.y / this.data.outputResolution.height) *\n      this.vpaidSettings.adHeight\n    }px`;\n\n    return this.domElement;\n  }\n}\n","export class IVPAIDElement {\n  constructor(data, element, vpaidSettings) {\n    this.data = data;\n    this.element = element;\n    this.vpaidSettings = vpaidSettings;\n    this.domElement = this.createElement();\n  }\n\n  // Returns the HTML Element\n  createElement() {\n    throw new Error(\"createElement() must be implemented.\");\n  }\n\n  // Binds GSAP animations\n  addToTimeline(adTimeline) {\n    this.adTimeline.to(this.domElement, {\n      opacity: 1,\n      duration: 0.1,\n      delay: this.element.start, // Element appears at the correct time\n    });\n\n    this.adTimeline.to(this.domElement, {\n      opacity: 0,\n      duration: 0.1,\n      delay: this.element.start + this.element.duration, // Element appears at the correct time\n    });\n  }\n\n  // If an element requires external dependencies\n  loadDependencies(callback) {\n    if (callback) callback();\n  }\n\n  needsPauseResume() {\n    return false;\n  }\n\n  needsVolume() {\n    return false;\n  }\n\n  pause() {}\n\n  resume() {}\n\n  setVolume(volume) {}\n\n  needsSeek() {\n    return false;\n  }\n\n  seek(newTime) {}\n\n  createRootElement() {\n    this.domElement = document.createElement(\"div\");\n  }\n\n  getRootElement() {\n    return this.domElement;\n  }\n\n  // Call this when the element has fully loaded its resources\n  markLoaded() {\n    if (this.vpaidSettings.vpaidInstance) {\n      this.vpaidSettings.vpaidInstance.markElementLoaded(this, element.id);\n    }\n  }\n}\n","import { IVPAIDElement } from \"../core/IVPAIDElement.js\";\n\nexport class Image extends IVPAIDElement {\n  constructor(data, element, vpaidSettings) {\n    super(data, element, vpaidSettings);\n  }\n\n  createElement() {\n    this.domElement = document.createElement(\"div\");\n    this.domElement.style.position = \"absolute\";\n    this.domElement.style.width =\n      (this.element.width / this.data.outputResolution.width) *\n        this.vpaidSettings.adWidth +\n      \"px\";\n    this.domElement.style.height =\n      (this.element.height / this.data.outputResolution.height) *\n        this.vpaidSettings.adHeight +\n      \"px\";\n    this.domElement.style.left =\n      (this.element.x / this.data.outputResolution.width) *\n        this.vpaidSettings.adWidth +\n      \"px\";\n    this.domElement.style.top =\n      (this.element.y / this.data.outputResolution.height) *\n        this.vpaidSettings.adHeight +\n      \"px\";\n\n    let img = document.createElement(\"img\");\n    img.src = this.element.src;\n    img.style.width = \"100%\";\n    img.style.height = \"100%\";\n    img.onload = () => this.markLoaded();\n\n    this.domElement.appendChild(img);\n    return this.domElement;\n  }\n}\n","import { IVPAIDElement } from \"../core/IVPAIDElement.js\";\n\nexport class Video extends IVPAIDElement {\n  constructor(data, element, vpaidSettings) {\n    super(data, element, vpaidSettings);\n  }\n\n  createElement() {\n    this.domElement = this.createRootElement();\n    this.domElement.style.position = \"absolute\";\n    this.domElement.style.width =\n      (this.element.width / this.settings.outputResolution.width) *\n        this.vpaidSettings.adWidth +\n      \"px\";\n    this.domElement.style.height =\n      (this.element.height / this.settings.outputResolution.height) *\n        this.vpaidSettings.adHeight +\n      \"px\";\n    this.domElement.style.left =\n      (this.element.x / this.settings.outputResolution.width) *\n        this.vpaidSettings.adWidth +\n      \"px\";\n    this.domElement.style.top =\n      (this.element.y / this.settings.outputResolution.height) *\n        this.vpaidSettings.adHeight +\n      \"px\";\n\n    this.videoElement = document.createElement(\"video\");\n    this.videoElement.src = this.element.src;\n    this.videoElement.style.width = \"100%\";\n    this.videoElement.style.height = \"100%\";\n    this.videoElement.controls = false;\n    this.videoElement.volume = this.vpaidSettings.volume;\n    this.videoElement.muted = this.element.muted || false;\n    this.videoElement.preload = \"auto\";\n    this.videoElement.onloadeddata = () => this.markLoaded();\n\n    this.domElement.appendChild(this.videoElement);\n    return this.domElement;\n  }\n\n  addToTimeline(adTimeline) {\n    adTimeline.to(this.domElement, {\n      opacity: 1,\n      duration: 0.1,\n      delay: this.element.start,\n    });\n\n    // Sync Video Playback\n    adTimeline.call(\n      () => {\n        this.videoElement.currentTime = this.element.startOffset;\n        this.videoElement.play();\n      },\n      null,\n      this.element.start\n    );\n\n    adTimeline.call(\n      () => {\n        this.videoElement.pause();\n      },\n      null,\n      this.element.start + this.element.duration\n    );\n\n    adTimeline.to(this.domElement, {\n      opacity: 0,\n      duration: 0.1,\n      delay: this.element.start + this.element.duration,\n    });\n  }\n\n  needsSeek() {\n    return true;\n  }\n\n  seekTo(newTime) {\n    if (\n      newTime >= this.element.start &&\n      newTime <= this.element.start + this.element.duration\n    ) {\n      this.videoElement.currentTime =\n        this.element.startOffset + (newTime - this.element.start);\n    } else {\n      this.videoElement.pause();\n    }\n  }\n\n  needsPauseResume() {\n    return true;\n  }\n\n  pause() {\n    this.videoElement.pause();\n  }\n\n  resume() {\n    this.videoElement.play();\n  }\n\n  setVolume(volume) {\n    this.videoElement.volume = volume;\n  }\n}\n","import { IVPAIDElement } from \"../core/IVPAIDElement.js\";\nimport QRCode from \"qrcode\";\n\nexport class QR extends IVPAIDElement {\n  constructor(data, element, vpaidSettings) {\n    super(data, element, vpaidSettings);\n    this.generateQRCode();\n    this.markLoaded();\n  }\n\n  // Creates the QR code element inside the div container\n  createElement() {\n    this.domElement = this.createRootElement();\n    this.domElement.style.position = \"absolute\";\n    this.domElement.style.opacity = opacity; // Initially hidden\n    this.domElement.style.width = `${\n      (this.element.width / this.data.outputResolution.width) *\n      this.vpaidSettings.adWidth\n    }px`;\n    this.domElement.style.height = `${\n      (this.element.height / this.data.outputResolution.height) *\n      this.vpaidSettings.adHeight\n    }px`;\n    this.domElement.style.left = `${\n      (this.element.x / this.data.outputResolution.width) *\n      this.vpaidSettings.adWidth\n    }px`;\n    this.domElement.style.top = `${\n      (this.element.y / this.data.outputResolution.height) *\n      this.vpaidSettings.adHeight\n    }px`;\n\n    return this.domElement;\n  }\n\n  // Generate QR code once dependencies are loaded\n  generateQRCode() {\n    this.qrCodeInstance = new QRCode(this.domElement, {\n      text: this.element.url, // QR data (URL, text, etc.)\n      width: parseInt(this.domElement.style.width, 10),\n      height: parseInt(this.domElement.style.height, 10),\n    });\n  }\n}\n","import { IVPAIDElement } from \"../core/IVPAIDElement.js\";\n\nexport class Timer extends IVPAIDElement {\n  constructor(data, element, vpaidSettings) {\n    super(data, element, vpaidSettings);\n  }\n\n  createElement() {\n    this.domElement = this.createRootElement();\n    this.domElement.style.position = \"absolute\";\n    this.domElement.style.opacity = \"0\";\n    this.domElement.style.color = this.element.color || \"#fff\";\n    this.domElement.style.fontWeight = this.element.fontWeight || \"normal\";\n    this.domElement.style.backgroundColor =\n      this.element.backgroundColor || \"transparent\";\n\n    const { adWidth, adHeight } = this.vpaidSettings;\n\n    this.domElement.style.fontSize =\n      `${\n        (this.element.fontSize / this.data.outputResolution.width) * adWidth\n      }px` || \"16px\";\n    this.domElement.style.left = `${\n      (this.element.x / this.data.outputResolution.width) * adWidth\n    }px`;\n    this.domElement.style.top = `${\n      (this.element.y / this.data.outputResolution.height) * adHeight\n    }px`;\n    this.domElement.style.width = `${\n      (this.element.width / this.data.outputResolution.width) * adWidth\n    }px`;\n    this.domElement.style.height = `${\n      (this.element.height / this.data.outputResolution.height) * adHeight\n    }px`;\n    this.endDateTime = new Date(element.endDateTime); // Ensure it's a Date object\n    this.updateTimer(); // Set initial time\n    this.timerInterval = setInterval(() => this.updateTimer(), 1000); // Update every second\n\n    return this.domElement;\n  }\n\n  updateTimer() {\n    const now = new Date();\n    const timeRemaining = this.endDateTime - now;\n\n    if (timeRemaining <= 0) {\n      this.domElement.innerText = \"00:00:00\";\n      clearInterval(this.timerInterval); // Stop updating when expired\n    } else {\n      this.domElement.innerText = this.formatTime(\n        this.element.format,\n        timeRemaining\n      );\n    }\n  }\n\n  addToTimeline(adTimeline) {\n    adTimeline.to(this.domElement, {\n      opacity: 1,\n      duration: 0.1,\n      delay: this.element.start,\n    });\n\n    // Schedule updates every second\n    let totalSeconds = this.element.duration;\n    for (let i = 1; i <= totalSeconds; i++) {\n      adTimeline.call(\n        () => {\n          this.domElement.innerText = this.formatTime(this.element.format, i);\n        },\n        null,\n        this.element.start + i\n      );\n    }\n\n    adTimeline.to(this.domElement, {\n      opacity: 0,\n      duration: 0.1,\n      delay: this.element.start + this.element.duration,\n    });\n  }\n\n  pad(num) {\n    return num < 10 ? \"0\" + num : num;\n  }\n\n  formatTime(format, seconds) {\n    let totalSeconds = Math.floor(ms / 1000);\n    let d = Math.floor(totalSeconds / (3600 * 24));\n    let h = Math.floor((totalSeconds % (3600 * 24)) / 3600);\n    let m = Math.floor((totalSeconds % 3600) / 60);\n    let s = totalSeconds % 60;\n\n    switch (format) {\n      case \"d:h:m:s\":\n        return `${d}:${h}:${m}:${s}`;\n      case \"h:m:s\":\n        return `${h}:${m}:${s}`;\n      case \"m:s\":\n        return `${m}:${s}`;\n      case \"s\":\n        return `${s}`;\n      default:\n        return `${m}:${s}`;\n    }\n  }\n}\n"],"names":[],"version":3,"file":"vpaid.js.map"}